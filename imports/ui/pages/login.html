<template name="loginPage">
	<div id="loginPage">
		<div class="container">
			<div class="card text-white bg-danger mb-4">
				<div class="card-body">
					<div class="card-title">
						<h4><i class="fas fa-exclamation-triangle"></i>&nbsp;&nbsp;Fermeture de TO.connect</h4>
					</div>
					<p class="lead">Suite à la fermeture de TO.connect, il est nécessaire de créer de nouveaux identifiants spécifiques TO.sync à l'aide votre adresse e-mail Transavia :</p>
					<div class="row justify-content-center">
						<div class="col-md-6">
							<a href="{{pathFor '/recuperation' }}" class="btn btn-block btn-light">Récupérer mon compte</a>
						</div>
					</div>
				</div>
			</div>

			<div class="card text-white bg-success mb-4">
				<div class="card-body">
					<div class="card-title">
						<h4><i class="fas fa-sign-in-alt"></i>&nbsp;&nbsp;Connexion avec identifiants TO.sync</h4>
					</div>
					<p class="lead">Utilisez vos identifiants spécifiques TO.sync</p>
					<div class="row justify-content-center">
						<div class="col-md-6">
							<form id="newLogin" name="tosync-login">
								<input name="email" type="email" autocomplete="email" value="" placeholder="Adresse électronique" class="form-control mb-2" {{ disabledOnLoggingIn }} {{ disabledOnConnectRunning }} />
					
								<input name="user-password" type="password" autocomplete="current-password" value="" placeholder="Mot de passe" class="form-control mb-2" {{
									disabledOnLoggingIn }} {{ disabledOnConnectRunning }} />
					
								<button type="submit" class="btn btn-outline-light btn-block js-tosync-login ladda-button" data-style="zoom-out" {{
									disabledOnLoggingIn }} {{ disabledOnConnectRunning }}>
									<span class="ladda-label">Connexion</span>
								</button>
							</form>
							<p class="text-center mt-0 mb-0">
								<a href="{{pathFor '/reinit-mdp' }}">Mot de passe oublié ?</a>
							</p>
							<p class="text-center mt-2 mb-0">{{ message }}</p>
							<div class="ui horizontal inverted divider">Ou</div>
							<button type="button" class="js-google-button btn btn-light btn-google btn-block" {{
									disabledOnLoggingIn }}>
									<img src="./google_logo.svg" alt="G" />
									<span class="label">Connexion avec Google</span>
							</button>
							{{#if googleErrorMessage }}
								<div class="alert alert-danger mt-2">{{ googleErrorMessage }}</div>
							{{/if}}
							<div class="ui horizontal inverted divider"></div>
							<p class="text-center">
								Pas encore inscrit ?
								<br>
								<a href="{{pathFor '/inscription' }}" class="btn btn-outline-light mt-2">Créer un compte</a>
							</p>
							
						</div>
					</div>
				</div>
			</div>

			<div class="card text-white bg-dark mb-4">
				<div class="card-body">
					<h4 class="card-title">
						<i class="fas fa-sign-in-alt"></i>
						&nbsp;&nbsp;Connexion avec TO.connect
					</h4>
					<h5 class="card-subtitle mb-2">
						<span class="badge badge-secondary text-uppercase">Obsolète</span>
					</h5>
					<p class="lead">Utilisez vos identifiants TO.connect pour vous connecter et importer votre planning. Si vos identifiants TO.connect ne fonctionnent plus, vous devez faire une demande de <a href="{{pathFor '/inscription' }}">récupération de compte</a>.</p>
					{{> loginForm }}
					<p class="card-text mt-3">Une fois votre planning importé vous pourrez le synchroniser avec Google Agenda et accéder au décompte d'heures créditées.</p>
				</div>
			</div>

			<div class="card bg-light mb-4">
				<div class="card-body">
          <div class="card-title">
            <h4><i class="fas fa-user-shield"></i>&nbsp;&nbsp;Données personnelles</h4>
          </div>
          <p class="lead">TO.sync télécharge votre planning afin de pouvoir le synchroniser et pour calculer votre rémunération. Certaines de ces données sont stockées sur nos serveurs afin de vous identifier ou pour synchroniser vos données entre les différents périphériques que vous utilisez. <strong>Néanmoins aucun traitement de données n'est effectué ou conservé sur nos serveurs</strong>. Tous les traitements de données sont effectués dans le navigateur de l'utilisateur et les données collectées ne sont transmises à aucune tierce partie.</p>
          <p>Pour en savoir plus, consultez les <a class="font-weight-bold" href="https://cgu.tosync.avapps.fr">Conditions d'utilisation</a>.</p>
				</div>
			</div>
		</div>
	</div>
</template>
